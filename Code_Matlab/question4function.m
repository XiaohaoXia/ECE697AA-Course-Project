function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 22-Nov-2021 18:18:00.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx1 matrix, input #1
% and returns:
%   y = Qx3 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====
Iter=10000;
% Input 1
x1_step1.xoffset = 1;
x1_step1.gain = 0.0689655172413793;
x1_step1.ymin = -1;

% Layer 1
b1 = [76.600219948900132749;-74.074178010677428574;-71.615398394828403639;69.22141365277879288;66.710680150870558691;-64.361009439674532473;61.861312134386572836;-59.663834463804917618;56.991936611240049615;54.821331553446306373;-52.208169976979846183;-49.967036773305757436;-47.358668463254623759;44.840146963345823394;-42.502990919950569548;40.072747143685532478;-37.643836053982667522;-35.185513078216693827;-32.800467369128931239;30.383265703811041192;-28.037479159590862565;-25.501125491102769161;-23.076013091935941191;20.643686992787849022;18.214882560106211429;-15.785996029608243774;13.473622429827216251;10.928203669773511209;-8.4831371026589206252;-6.0747744182885208275;-3.6429791464906147169;-1.2141808410566337084;-1.1621522555723804437;-3.6037742789788027586;6.1230142293912228624;-8.1755188780611618427;10.938023800422723042;-12.88264350102777378;15.779217825194294278;-18.312194148981443931;-20.644829008225606515;23.16298641787793855;25.503110254912066068;-27.929516552884308567;-30.358129545569404684;32.822017279215955909;35.2255719831454428;-37.668501720251228448;-39.920253954593341916;42.500370480818048691;-44.930045896291723295;-47.359606959638234969;-49.583979660758117802;-52.205221117941079001;54.960135370611119754;-57.0448938806210748;59.731268378001985297;-61.817622020920708792;-64.383216426933628895;66.924673818629159427;-69.211917100891113819;-71.515269811429305946;74.07323513117047753;-76.848364932919167813];
IW1_1 = [-76.40478296652725021;76.502108848637590199;76.530247372828171137;-76.497992129225210078;-76.56906990793896739;76.500972421523030675;-76.557446201372329142;76.374092929229988158;-76.561359940833966675;-76.374553529387384287;76.507554215713028611;76.384770397848612333;76.502541841143226975;-76.555197919993872802;76.501562988756091954;-76.502496830373175385;76.50261457376495855;76.515915881584717795;76.496355822323977236;-76.492970131507675546;76.46153364201515501;76.502411049397693432;76.501312913711103647;-76.502453544425776499;-76.50250117350066148;76.502542016333123343;-76.482494091039939121;-76.502638291036447526;76.504274362385189079;76.502176008604948265;76.502501213426413074;76.502496602180343643;-76.504300630096366831;-76.503849724570429203;76.497120330025268231;-76.536093347656347419;76.500798454861339337;-76.584386824358830381;76.503498762783209486;-76.479011490389524397;-76.50218311714633046;76.47432293577124085;76.50179511795043652;-76.502491691961921561;-76.502504270598180369;76.48670843860789148;76.497960374913333226;-76.489820609465127177;-76.581373151137199784;76.503028809062229243;-76.502497534203385499;-76.501901782610161717;-76.635739048302838228;-76.509545921096332677;76.274040141601759046;-76.523024714233997656;76.320609487079806854;-76.59209639051526608;-76.481806298932752952;76.384589847546564556;-76.506800907963793179;-76.623469400240324489;76.503128277934791868;-76.156638115335951511];

% Layer 2
b2 = [0.48940792153097134598;-0.18675887970247037617;-0.33240717316281298555];
LW2_1 = [-0.306478919977036246 0.032203269443463050647 -0.28433901598223815244 0.38757175361804468983 -0.55304696731453528713 -0.16731682697892766298 -0.025363032397471584056 -0.0092076122652914177413 -0.034303402867187166025 0.21413680258151029934 0.065459422514685283723 0.14811870282850528313 -0.35784426141873204585 -0.54522117262236236002 -0.66668524625961578245 0.59587636018436429541 0.61874987548169047002 0.43165908950148651479 -0.64181107463891606812 -0.5200487822571723262 0.44798227449198030348 -0.3647467844267904824 -0.31456198442170751894 0.45251754545583333655 0.25934993746397633219 0.93793781760955874383 -0.085449088329500627603 -0.32954968202870316141 -0.45571410980900772802 0.069504946393932204307 -0.50177859544742231535 -0.11063571410669746642 -0.80058365473121628764 0.44902797336311389698 0.34250768712275353467 -0.14845179661845253616 -0.036679120243470392237 0.048009219937208032214 0.15085840840147468622 0.15479503028778754392 0.24544053517152941701 0.49240409303413179565 -0.58909194427986733 -0.75185621898476739933 -0.20675094917209693723 -0.37937717733480835758 -0.26520696613131766739 -0.28744330224029812637 -0.087478242152174950919 0.02731821670593682222 -0.14401230145224747092 -0.17775189239650163175 0.35381909281892559571 -0.14355511864926923105 0.042874043986711095344 0.37672819274901975239 0.47000145792782321852 -0.42802074133189293992 0.39872093691671145477 0.01206340209945216263 -0.17841752152355011551 0.17244559800360609314 0.32139604177215380654 0.63707417644180563965;-0.11434040581990716212 0.18377397597619538061 -0.37463960316282790552 -0.62272201194349174891 0.57358299054881634049 -0.30504682888335893365 -0.31465932917675537572 0.43843014017577075503 0.36235625557727990653 0.070239293704157226839 0.2244677366869386459 -0.78955190963329635601 0.5080924618189248676 -0.096402178079753819695 -0.18945540997174015185 -0.21789567635556647551 0.2327195348544887632 -0.45561398589940993453 -0.2238553168870960064 -0.33210101733965924353 0.20472778507691907768 -0.32806182166307934489 0.6048443019932994158 -0.61100814468123787471 0.43342801719483159406 -0.11273979201681967599 0.84964938662064082298 -0.027025560960825277534 0.32959692724533606878 -0.41110471680725002575 0.35205060701185864058 -0.25530468498731567761 -0.26674752104704257949 -0.5683626118663240856 -0.25286932661603495065 0.5531634177367532601 0.19460679061941019152 -0.40721488794667670685 -0.19984061749493825522 0.20533710513695116462 0.0060389393360838067304 0.19199879143904069467 0.34110254615676843803 -0.64976176701449950279 0.61083546682725942123 -0.43143181601901559041 0.77672363166789426536 0.50628520641323582208 -0.29421369837577893147 -0.025981717156747147907 -0.15258604710697101781 0.070486273685639977415 0.24348387968090018374 0.16735193269535481031 0.36416529148851978226 -0.081777786948960262681 0.036608402245468837921 -0.14078192634295561003 0.31731637777975280068 0.3748537953495788555 -0.087668404336825572765 0.52890337284523292194 0.35090615680353354211 -0.036836686633753681908;0.53309464325428179698 -0.2890769325367890108 0.74444306574742991067 0.22069791873311633834 0.086644905101885535958 0.16366369451016460346 0.022770035814418346232 -0.090200937537573466773 0.010794857608461272402 -0.3505195967821934655 -0.44884614421649704497 0.27325760410212751594 -0.14366333942852765881 0.062312087252938512527 0.33559564298536748161 -0.24159428734762206092 -0.36599626423178521772 -0.32378422774097415093 -0.20965730548060293459 -0.33917862129657927461 -0.13510153857688797507 0.034438745355962842309 -0.45350105940049911801 -0.38087979942280669743 -0.65877854592022500047 -0.33015607523733514483 0.51715726846950060835 -0.57734244601329698376 -0.41312174744641466662 0.71442010597290417362 -0.3085516116454556923 0.44453442025956207972 0.73667104482677114863 0.12575044611502900205 -0.13272693213998784656 -0.55392107788854616501 -0.13623429326942246287 0.14669170360382946527 -0.1015558232539070932 -0.34202302187475930317 0.24408262342188707938 0.030331288115893591251 1.215476520307262831 0.32937754278887726445 0.15359309126522890931 -0.39837358341724310451 0.00037803535499741566794 0.062780426249463047728 0.074024717953103794099 -0.38479362493517071941 0.39154873794586542157 -1.0502969291720032352 -0.050473198096614491082 0.36327326276203864008 0.81421519343196990803 0.14590172512749627343 -0.15369663513288864265 0.080091170778438108835 -0.032421873867490409726 0.68890607216255361767 0.54679400435199110309 0.32952919873468838885 0.4693651109145660083 0.28249947100623645779];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.500682113572258;0.505335646428025;0.46745812521805];
y1_step1.xoffset = [1.01582265122005;1.72952717049385;1.97806472552629];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
